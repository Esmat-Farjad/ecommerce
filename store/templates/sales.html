{% extends 'main/base.html' %}
{% load static %}
{% block content %}
<div class="sales">
    <div class="grid lg:grid-row-2 m-5">
        <div class="">
        <h1 class="text-3xl text-center">Sales Portal</h1>
        
        <div class="flex justify-center">
        <form action="{% url 'store:sale_search' %}" method="POST" class="mt-5">
            {% csrf_token %}
            <input type="text" name="search" id="search" class="py-2 rounded border border-teal-400 w-96 focus:outline-none focus:border-cyan-500 px-3" placeholder="Enter the product name">
            <button type="submit" class="rounded-full border bg-teal-500 hover:bg-teal-700 hover:text-white px-3 py-2"><i class="fa-solid fa-magnifying-glass"></i></button>
        </form>
        </div>
        <p class="text-center text-slate-400 mb-10">To find the item quickly type the item name in the search input and press the search button</p>
    </div>
        <hr>
    <div class="px-20 py-10">
        <div class="grid lg:grid-cols-4 gap-4 sm:grid-cols-1">
                <!-- shopping card -->
                {% for item in product %}
                    <div class="rounded overflow-hidden shadow-lg border relative m-2">
                            <img src="{{item.image.url}}" class="h-52 w-full object-cover" alt="image">
                        <div class="card-body p-4">
                            <span class="font-semibold block text-slate-600 capitalize">{{item.name}}</span>
                            <span class="block text-slate-500">{{item.description}}</span>
                            <span class="font-semibold text-slate-600">{{item.price}}</span>&nbsp;<span><i class="fa-solid fa-dollar-sign"></i></span>
                            {% if item.stock > 0 %}
                                <span class="text-green-500 block"><i class="fa-solid fa-circle-check"></i>&nbsp;in stock</span>
                            {% else %}
                                <span class="text-red-500 block"><i class="fa-solid fa-triangle-exclamation"></i>&nbsp;currently out of stock</span>
                            {% endif %}
                            
                        </div>
                        <div class="p-4">
                            <button class="bg-teal-500 text-white py-1 px-2 text-lg shadow">Buy</button>
                            <button class="bg-teal-500 text-white py-1 px-2 shadow">
                                <a href="{% url 'store:addToCart' item.id %}"><i class="fa-solid fa-cart-plus text-lg"></i></a>
                            </button>
                        </div>
                        <div class="bg-gray-200 p-2 rounded-full absolute top-0 shadow-lg z-20 m-2">
                            {% if item.category.name == "clothing" %}
                                <i class="fa-solid fa-shirt"></i>
                            {% elif item.category.name == "footwear" %}
                                <i class="fa-solid fa-shoe-prints"></i>
                            {% elif item.category.name == "food materials" %}
                                <i class="fa-solid fa-utensils"></i>
                            {% endif %}
                            
                        </div>
                    </div>
                {% endfor %}
        </div>       <!-- shopping card -->
    </div>
    
</div>
{% endblock content %}